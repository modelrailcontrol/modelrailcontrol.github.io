(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{102:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return s})),t.d(n,"rightToc",(function(){return c})),t.d(n,"default",(function(){return d}));var r=t(2),a=t(6),l=(t(0),t(160)),i={title:"Enheters grundinst\xe4llning"},s={id:"clients/intro-settings",isDocsHomePage:!1,title:"Enheters grundinst\xe4llning",description:"En viktigt tanke med MRC \xe4r att enheter ska kunna kommunicera med varandra via tr\xe5dl\xf6st n\xe4tverk/wifi. N\xe4r en MRC-enhet startar, f\xf6rs\xf6ker den alltid koppla upp sig mot samma n\xe4tverk som f\xf6rra g\xe5ngen. Skulle den d\xe5 inte hitta n\xe4tverket, startar den ist\xe4llet en egen webbserver/accesspunkt och visar en sida d\xe4r nya n\xe4tverksinst\xe4llningar kan g\xf6ras.",source:"@site/docs/clients/intro-settings.md",permalink:"/docs/clients/intro-settings",editUrl:"https://github.com/modelrailcontrol/MRC-documentation/blob/master/docs/clients/intro-settings.md",sidebar:"Enheter",previous:{title:"B\xf6rja programmera",permalink:"/docs/clients/intro-arduino"},next:{title:"Installera",permalink:"/docs/clients/cmc-01-install"}},c=[{value:"Starta MRC-enheten",id:"starta-mrc-enheten",children:[]},{value:"Inst\xe4llningar f\xf6r wifi och MQTT",id:"inst\xe4llningar-f\xf6r-wifi-och-mqtt",children:[]},{value:"Enhetsspecifika inst\xe4llningar",id:"enhetsspecifika-inst\xe4llningar",children:[]},{value:"Spara inst\xe4llningarna",id:"spara-inst\xe4llningarna",children:[]}],o={rightToc:c};function d(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(l.b)("wrapper",Object(r.a)({},o,t,{components:n,mdxType:"MDXLayout"}),Object(l.b)("p",null,"En viktigt tanke med MRC \xe4r att enheter ska kunna kommunicera med varandra via tr\xe5dl\xf6st n\xe4tverk/wifi. N\xe4r en MRC-enhet startar, f\xf6rs\xf6ker den alltid koppla upp sig mot samma n\xe4tverk som f\xf6rra g\xe5ngen. Skulle den d\xe5 inte hitta n\xe4tverket, startar den ist\xe4llet en egen webbserver/accesspunkt och visar en sida d\xe4r nya n\xe4tverksinst\xe4llningar kan g\xf6ras."),Object(l.b)("p",null,"Dessutom kan man st\xe4lla in enheten s\xe5 att den alltid startar med att visa sin egen webbserver/accesspunkt en viss tid, i normalfallet 30 sekunder. Under denna tid har man d\xe5 m\xf6jlighet att komma \xe5t och \xe4ndra de inst\xe4llningar som finns i enheten."),Object(l.b)("h2",{id:"starta-mrc-enheten"},"Starta MRC-enheten"),Object(l.b)("p",null,"N\xe4r du startar din MRC-enhet f\xf6rsta g\xe5ngen, eller n\xe4r du bytt n\xe4tverk, m\xe5ste du g\xf6ra n\xe5gra nya inst\xe4llningar. Det g\xf6r man l\xe4mpligen via en mobiltelefon eller surfplatta med wifi."),Object(l.b)("p",null,"Starta f\xf6rst mobilen och g\xe5 till dess n\xe4tverksinst\xe4llningar. Starta sedan MRC-enheten. Efter en kort stund kan du troligen se eller ett \xf6ppet n\xe4tverk som vanligen heter \u201cMRC-client\u201d. Eventuellt m\xe5ste du manuellt scanna efter nya n\xe4tverk f\xf6r att hitta enheten."),Object(l.b)("p",null,Object(l.b)("img",Object(r.a)({parentName:"p"},{src:"../../img/clients/mrc-settings01.svg",alt:null}))),Object(l.b)("p",null,"Anslut nu till detta n\xe4tverk. Har du inte \xe4ndrat sj\xe4lv i programkoden, s\xe5 ska l\xf6senordet vara \u201cmrc4president\u201d (stora bokstaven I)."),Object(l.b)("p",null,Object(l.b)("img",Object(r.a)({parentName:"p"},{src:"../../img/clients/mrc-settings02.svg",alt:null}))),Object(l.b)("p",null,"Du kan sedan starta mobiltelefonens webbl\xe4sare och surfa till godtycklig webbplats. Genom att du \xe4r ansluten till ett v\xe4ldigt lokalt n\xe4tverk, kommer du bara att hamna p\xe5 MRC-enhetens egen startsida. D\xe4r f\xe5r du lite information om enheten och en l\xe4nk till inst\xe4llningarna."),Object(l.b)("p",null,Object(l.b)("img",Object(r.a)({parentName:"p"},{src:"../../img/clients/mrc-settings03.svg",alt:null}))),Object(l.b)("h2",{id:"inst\xe4llningar-f\xf6r-wifi-och-mqtt"},"Inst\xe4llningar f\xf6r wifi och MQTT"),Object(l.b)("p",null,"Om du klickar p\xe5 l\xe4nken Inst\xe4llningar f\xe5r du nu m\xf6jlighet att se och \xe4ndra alla enhetens inst\xe4llningar. F\xf6rsta g\xe5ngen m\xe5ste du alltid s\xe4tta nytt l\xf6senord till inst\xe4llningarna (AP password) och ange n\xe4tverksuppgifterna."),Object(l.b)("p",null,Object(l.b)("img",Object(r.a)({parentName:"p"},{src:"../../img/clients/mrc-settings04.svg",alt:null}))),Object(l.b)("p",null,"Olika enheter kan ha olika inst\xe4llningar, men alla enheter har f\xf6ljande grundl\xe4ggande f\xf6r sin kommunikation:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"Thing name:")," Det namn som visas t.ex n\xe4r du via en mobiltelefon vill ansluta till enhetens eget n\xe4tverk."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"AP password:")," L\xf6senordet som beh\xf6vs f\xf6r att ansluta till enhetens eget n\xe4tverk."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"WiFi SSID:")," Namnet p\xe5 det MRC-n\xe4tverk du vill ansluta enheten till"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"WiFi password:")," L\xf6senordet f\xf6r det MRC-n\xe4tverk du ansluter enheten till"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"Startup delay:")," Den tid som du har p\xe5 dig att ansluta till enhetens eget n\xe4tverk, varje g\xe5ng den startas. Normalt 30 sekunder.")),Object(l.b)("p",null,"Dessutom beh\xf6ver alla enheter ha en del grundl\xe4ggande information f\xf6r att kunna prata med varandra:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"Enhetens unika id:")," Varje enhet p\xe5 ett och samma MRC-n\xe4tverk m\xe5ste ha ett unikt id."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"Enhetens namn:")," Ett mer \u201dl\xe4sv\xe4nligt\u201d namn p\xe5 enheten."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"MQTT IP-adress:")," IP-adressen till den server (p\xe5 MRC-n\xe4tverket) d\xe4r MQTT k\xf6rs."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"MQTT-port:")," Det portnummer som MQTT-servern anv\xe4nder, vanligen 1883")),Object(l.b)("h2",{id:"enhetsspecifika-inst\xe4llningar"},"Enhetsspecifika inst\xe4llningar"),Object(l.b)("p",null,"Varje enhet har sen en del inst\xe4llningar som \xe4r specifika f\xf6r vad den g\xf6r. Vilka dessa \xe4r och hur de kan st\xe4llas in redovisas i respektive enhets dokumentation."),Object(l.b)("h2",{id:"spara-inst\xe4llningarna"},"Spara inst\xe4llningarna"),Object(l.b)("p",null,"N\xe4r du st\xe4llt in allting och vill spara det, g\xe5r du l\xe4ngst ner p\xe5 webbsidan och klickar p\xe5 den bl\xe5a Apply-knappen. D\xe5 sparas inst\xe4llningarna och enheten kommer att anv\xe4nda dem i forts\xe4ttningen."),Object(l.b)("p",null,Object(l.b)("img",Object(r.a)({parentName:"p"},{src:"../../img/apply-knapp.svg",alt:"Spara med Applyknappen"}))),Object(l.b)("p",null,"Eftersom enhetens webbserver/accesspunkt finns kvar s\xe5 l\xe4nge du \xe4r ansluten till den, \xe4r det l\xe4mpligt att \xe4ven koppla bort din telefon fr\xe5n enhetens accesspunkt \u201cMRC-client\u201d (eller det namn du valt i \u201dThing name\u201d)."))}d.isMDXComponent=!0},160:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return b}));var r=t(0),a=t.n(r);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var o=a.a.createContext({}),d=function(e){var n=a.a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},p=function(e){var n=d(e.components);return a.a.createElement(o.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},m=a.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,o=c(e,["components","mdxType","originalType","parentName"]),p=d(t),m=r,b=p["".concat(i,".").concat(m)]||p[m]||u[m]||l;return t?a.a.createElement(b,s(s({ref:n},o),{},{components:t})):a.a.createElement(b,s({ref:n},o))}));function b(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,i=new Array(l);i[0]=m;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var o=2;o<l;o++)i[o]=t[o];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);