(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{128:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return p}));var n=a(0),r=a.n(n);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=r.a.createContext({}),d=function(e){var t=r.a.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},b=function(e){var t=d(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),b=d(a),m=n,p=b["".concat(s,".").concat(m)]||b[m]||u[m]||i;return a?r.a.createElement(p,l(l({ref:t},c),{},{components:a})):r.a.createElement(p,l({ref:t},c))}));function p(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,s=new Array(i);s[0]=m;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l.mdxType="string"==typeof e?e:n,s[1]=l;for(var c=2;c<i;c++)s[c]=a[c];return r.a.createElement.apply(null,s)}return r.a.createElement.apply(null,a)}m.displayName="MDXCreateElement"},181:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/mrc-sw01-3b3a79b5e0b746692a1674cbc91cb4b2.png"},182:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/mrc-sw02-2f32b05814444017df90794e26113d80.png"},183:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/mrc-sw03-b5cf91baa3c479e3aecf86064cbc1cf6.png"},184:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/mrc-sw04-598431d64d500a71dd126de221921f68.png"},185:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/mrc-sw05-7fb402a4d4992162201aa6e797eada64.png"},186:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/mrc-sw06-660a3b38e99f4d487baad8e16042d3ba.png"},187:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/mrc-sw08-0b73b5642baf7a4ed0543bf3207b1068.png"},188:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/mrc-sw11-b1ef7f47edae30216ed80ada5b313717.png"},189:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/mrc-sw09-49fd610c642eea49df3abd7006929804.png"},190:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/mrc-sw10-1b18cd05806455cfbcc971e55d51b5f8.png"},69:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return s})),a.d(t,"metadata",(function(){return l})),a.d(t,"rightToc",(function(){return o})),a.d(t,"default",(function(){return d}));var n=a(3),r=a(7),i=(a(0),a(128)),s={title:"B\xf6rja programmera"},l={unversionedId:"clients/intro-arduino",id:"clients/intro-arduino",isDocsHomePage:!1,title:"B\xf6rja programmera",description:"Det kr\xe4vs en del f\xf6rberedelser f\xf6r att kunna programmera en Arduino kretskortsdator. Det mesta g\xf6r man bara en g\xe5ng och nedan f\xf6ljer en beskrivning av de olika stegen.",source:"@site/docs/clients/intro-arduino.md",slug:"/clients/intro-arduino",permalink:"/docs/clients/intro-arduino",editUrl:"https://github.com/modelrailcontrol/MRC-documentation/blob/master/docs/clients/intro-arduino.md",version:"current",sidebar:"Enheter",previous:{title:"\xd6versikt",permalink:"/docs/clients/intro-overview"},next:{title:"Enheters grundinst\xe4llning",permalink:"/docs/clients/intro-settings"}},o=[{value:"Arduino IDE",id:"arduino-ide",children:[]},{value:"Kretskortsdatorn",id:"kretskortsdatorn",children:[{value:"Steg 1 - L\xe4gg till kort",id:"steg-1---l\xe4gg-till-kort",children:[]},{value:"Steg 2 - Installera kort",id:"steg-2---installera-kort",children:[]},{value:"Steg 3 - V\xe4lj kretskortsdator",id:"steg-3---v\xe4lj-kretskortsdator",children:[]},{value:"Steg 4 - Starta om",id:"steg-4---starta-om",children:[]}]},{value:"Bibliotek",id:"bibliotek",children:[{value:"Steg 1 - Hantera bibliotek",id:"steg-1---hantera-bibliotek",children:[]},{value:"Steg 2 - Installera bibliotek",id:"steg-2---installera-bibliotek",children:[]}]},{value:"MRC programvara",id:"mrc-programvara",children:[{value:"Anslut kretskortsdatorn",id:"anslut-kretskortsdatorn",children:[]},{value:"Testa!",id:"testa",children:[]}]},{value:"Fels\xf6kning",id:"fels\xf6kning",children:[]}],c={rightToc:o};function d(e){var t=e.components,s=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},c,s,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Det kr\xe4vs en del f\xf6rberedelser f\xf6r att kunna programmera en Arduino kretskortsdator. Det mesta g\xf6r man bara en g\xe5ng och nedan f\xf6ljer en beskrivning av de olika stegen."),Object(i.b)("h2",{id:"arduino-ide"},"Arduino IDE"),Object(i.b)("p",null,"B\xf6rja med att ladda hem Arduinos IDE/utvecklingsmilj\xf6 fr\xe5n sidan ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.arduino.cc/en/Main/Software"}),"https://www.arduino.cc/en/Main/Software"),". Det finns versioner f\xf6r b\xe5de Windows, Mac och Linux. Installera utvecklingsmilj\xf6n p\xe5 din dator, instruktioner finns p\xe5 sidan ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.arduino.cc/en/Guide/HomePage"}),"https://www.arduino.cc/en/Guide/HomePage"),"."),Object(i.b)("p",null,Object(i.b)("img",{alt:"Ladda hem Arduion IDE",src:a(181).default})),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"Observera")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"I Linux kan man f\xe5 ett felmeddelande om \xe5tkomst till serieporten (Error opening serial port\u2026) f\xf6rsta g\xe5ngen man startar utvecklingsmilj\xf6n. Detta har att g\xf6ra med en begr\xe4nsad beh\xf6righet och det finns instruktioner f\xf6r hur det \xe5tg\xe4rdas l\xe4ngst ner p\xe5 installationssidan f\xf6r Linux."))),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"Observera")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"F\xf6r vissa (billigare?) kretskortsdatorer m\xe5ste man p\xe5 Windows installera drivrutiner f\xf6r en USB-krets som heter CH340. Det finns en beskrivning av hur man g\xf6r detta hos exempelvis Lawicel: ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"http://www.lawicel.se/blog/esp8266-d1-mini-med-ch340/"}),"http://www.lawicel.se/blog/esp8266-d1-mini-med-ch340/")))),Object(i.b)("h2",{id:"kretskortsdatorn"},"Kretskortsdatorn"),Object(i.b)("p",null,"F\xf6r att kunna programmera Arduinos med ESP8266-kretsar beh\xf6ver den typen av kort l\xe4ggas till i Arduinos utvecklingsmilj\xf6. Det sker p\xe5 f\xf6ljande s\xe4tt."),Object(i.b)("h3",{id:"steg-1---l\xe4gg-till-kort"},"Steg 1 - L\xe4gg till kort"),Object(i.b)("p",null,"G\xe5 till utvecklingsmilj\xf6ns inst\xe4llningar via Fil -> Inst\xe4llningar. L\xe4gg sen till webbadressen ",Object(i.b)("inlineCode",{parentName:"p"},"http://arduino.esp8266.com/stable/package_esp8266com_index.json")," i f\xe4ltet \u201cAdditional Board Manager URLs\u201d och klicka p\xe5 Ok-knappen."),Object(i.b)("p",null,Object(i.b)("img",{alt:"L\xe4gg till kort",src:a(182).default})),Object(i.b)("h3",{id:"steg-2---installera-kort"},"Steg 2 - Installera kort"),Object(i.b)("p",null,"\xd6ppna sedan Korthanteraren via menyn Verktyg -> Kort: \u201dxxxx\u201d -> Korthanterare\u2026 Scrolla ner till eller s\xf6k efter \u201cesp8266\u201d och klicka sedan p\xe5 Install-knappen (saknas p\xe5 denna bild) f\xf6r att installera kortet. St\xe4ng sedan Korthanteraren."),Object(i.b)("p",null," ",Object(i.b)("img",{alt:"Installera kort",src:a(183).default})),Object(i.b)("h3",{id:"steg-3---v\xe4lj-kretskortsdator"},"Steg 3 - V\xe4lj kretskortsdator"),Object(i.b)("p",null,"V\xe4lj nu den kretskortsdator du vill arbeta med via menyn Verktyg -> Kort: \u201dxxxx\u201d. I fallet med en Wemos eller klon, kan man v\xe4lja \u201cLOLIN(WEMOS) D1 R2 & Mini\u201d. Du m\xe5ste \xe4ven v\xe4lja vilken port kretskortsdatorn \xe4r ansluten via menyn Verktyg -> Port."),Object(i.b)("p",null,Object(i.b)("img",{alt:"V\xe4lj kretskortsdator",src:a(184).default})),Object(i.b)("h3",{id:"steg-4---starta-om"},"Steg 4 - Starta om"),Object(i.b)("p",null,"Avsluta nu Arduinos utvecklingsmilj\xf6 och starta den igen."),Object(i.b)("h2",{id:"bibliotek"},"Bibliotek"),Object(i.b)("p",null,"Programvaran f\xf6r MRC anv\xe4nder en del f\xe4rdiga funktioner fr\xe5n olika bibliotek eller \u201dlibraries\u201d. Dessa bibliotek m\xe5ste ocks\xe5 l\xe4ggas till i utvecklingsmilj\xf6n."),Object(i.b)("h3",{id:"steg-1---hantera-bibliotek"},"Steg 1 - Hantera bibliotek"),Object(i.b)("p",null,"I Arduino utvecklingsmilj\xf6n v\xe4ljer du menyn Verktyg -> Hantera bibliotek\u2026 S\xf6k sedan efter biblioteket i filtreringsrutan."),Object(i.b)("p",null,Object(i.b)("img",{alt:"Hantera bibliotek",src:a(185).default})),Object(i.b)("h3",{id:"steg-2---installera-bibliotek"},"Steg 2 - Installera bibliotek"),Object(i.b)("p",null,"N\xe4r du hittat r\xe4tt bibliotek, klickar d\xe5 p\xe5 Installera-knappen (saknas i bilden ovan) f\xf6r att installera den senaste versionen av biblioteket. Upprepa nu detta f\xf6r de tre bibliotek som beh\xf6vs:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"EasyButton by Evert Arias"),Object(i.b)("li",{parentName:"ul"},"IotWebConf by Balazs Kelemen"),Object(i.b)("li",{parentName:"ul"},"PubSubClient by Nick O\u2019Leary")),Object(i.b)("p",null,"N\xe4r du nu installerat alla n\xf6dv\xe4ndiga kort och bibliotek, \xe4r utvecklingsmilj\xf6n klar f\xf6r programmering."),Object(i.b)("h2",{id:"mrc-programvara"},"MRC programvara"),Object(i.b)("p",null,"Nu \xe4r det dags att ladda hem och installera sj\xe4lva MRC-programvaran. F\xf6rst ska programvaran laddas hem och fr\xe5n Github, normalt via en ZIP-fil."),Object(i.b)("p",null,Object(i.b)("img",{alt:"MRC programvara",src:a(186).default})),Object(i.b)("p",null,"Packa sedan upp ZIP-filen i mappen f\xf6r Arduino utvecklingsmilj\xf6ns skissbok (var den mappen finns, kan man se via menyn Fil -> Inst\xe4llningar). Starta sedan Arduino utvecklingsmilj\xf6n och v\xe4lj Fil -> Skissbok och sen den programvara du nyss laddade hem."),Object(i.b)("p",null,Object(i.b)("img",{alt:"L\xe4gg i skissbok",src:a(187).default})),Object(i.b)("h3",{id:"anslut-kretskortsdatorn"},"Anslut kretskortsdatorn"),Object(i.b)("p",null,"Anslut nu kretskortsdatorn via vald USB-port (Verktyg -> Port). Det kan vara l\xe4mpligt att inte ha servon anslutna till kretskortsdatorn f\xf6rsta g\xe5ngen man startar den, eftersom deras l\xe4ge \xe4r ok\xe4nt och de kan st\xe4llas i fel/konstiga l\xe4gen."),Object(i.b)("p",null,Object(i.b)("img",{alt:"Installera programvaran",src:a(188).default})),Object(i.b)("p",null,"Som n\xe4sta steg \xe4r det nu dags att installera programvaran p\xe5 kretskortsdatorn. Det g\xf6r man via menyn Skiss \u2013> Ladda upp, Ctrl+U eller med pilh\xf6ger-symbolen i verktygsraden. Uppladdningen kan ta n\xe5gra sekunder och sen \xe4r MRC f\xf6rhoppningsvis ig\xe5ng."),Object(i.b)("h3",{id:"testa"},"Testa!"),Object(i.b)("p",null,"Har allt g\xe5tt bra s\xe5 ska du nu kunna komma \xe5t enhetens eget n\xe4tverk (AP) och g\xf6ra inst\xe4llningar, se sidan ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"intro-settings"}),"Enheters grundinst\xe4llning"),". Beroende p\xe5 vad du nu har kopplat till kretskortsdatorn ska du ocks\xe5 kunna testa dess olika funktioner och se att allt fungerar som det ska."),Object(i.b)("h2",{id:"fels\xf6kning"},"Fels\xf6kning"),Object(i.b)("p",null,"F\xf6rsta g\xe5ngen du installerar och k\xf6r MRC-programvaran kan det vara l\xe4mplig att se vad som h\xe4nder i programmet. Starta d\xe4rf\xf6r Seriell monitor via menyn Verktyg -> Seriell monitor och se till att hastigheten \xe4r satt till 9600 baud."),Object(i.b)("p",null,Object(i.b)("img",{alt:"Serial monitor",src:a(189).default})),Object(i.b)("p",null,"S\xe4tt sedan ig\xe5ng fels\xf6kning-utskrifterna genom att leta reda p\xe5 raden ",Object(i.b)("inlineCode",{parentName:"p"},"byte debug = 0;")," i programkoden. \xc4ndra d\xe4r till en etta (1) s\xe5 det st\xe5r ",Object(i.b)("inlineCode",{parentName:"p"},"byte debug = 1;")," ist\xe4llet och spara programmet. Ladda upp programvaran i kretskortsdatorn igen, s\xe5 ska du strax kunna se vad som h\xe4nder i Seriell monitor."),Object(i.b)("p",null,Object(i.b)("img",{alt:"Visa fels\xf6kningsmeddelanden",src:a(190).default})),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"Observera")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Seriell monitor kan ibland \u201dkrocka\u201d med en utg\xe5ng p\xe5 kretskortsdatorn som \xe4ven MRC anv\xe4nder. S\xe5 n\xe4r du \xe4r klar med testandet och ser att MRC fungerar som det ska, b\xf6r du st\xe4nga av utskrifterna till Seriell monitor."))))}d.isMDXComponent=!0}}]);