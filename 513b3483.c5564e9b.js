(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{120:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return b})),n.d(t,"default",(function(){return p}));var a=n(2),r=n(6),l=(n(0),n(157)),i={title:"Introduktion"},c={id:"struct-intro",isDocsHomePage:!1,title:"Introduktion",description:"Principen f\xf6r MQTT \xe4r att man skickar (publish) ett meddelande (payload) till ett specifikt \xe4mne (topic). Andra kan sedan v\xe4lja att lyssa p\xe5 eller prenumerera (subscribe) p\xe5 ett \xe4mne. S\xe5 varje g\xe5ng n\xe5gon skickar (publish) ett meddelande (payload) till ett \xe4mne (topic), kommer detta meddelande att vidarebefordras till alla som valt att prenumerera/lyssna (subscribe) p\xe5 detta \xe4mne.",source:"@site/docs/struct-intro.md",permalink:"/docs/struct-intro",editUrl:"https://github.com/modelrailcontrol/MRC-documentation/tree/master/docs/struct-intro.md",sidebar:"someSidebar",previous:{title:"Andra l\xf6sningar",permalink:"/docs/intro-others"},next:{title:"Device / enhet",permalink:"/docs/struct-device"}},b=[{value:"Ordlista",id:"ordlista",children:[]},{value:"Uppbyggnad",id:"uppbyggnad",children:[]},{value:"Attribut",id:"attribut",children:[]},{value:"Base topic",id:"base-topic",children:[]}],o={rightToc:b};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(l.b)("wrapper",Object(a.a)({},o,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("p",null,"Principen f\xf6r MQTT \xe4r att man skickar (publish) ett meddelande (payload) till ett specifikt \xe4mne (topic). Andra kan sedan v\xe4lja att lyssa p\xe5 eller prenumerera (subscribe) p\xe5 ett \xe4mne. S\xe5 varje g\xe5ng n\xe5gon skickar (publish) ett meddelande (payload) till ett \xe4mne (topic), kommer detta meddelande att vidarebefordras till alla som valt att prenumerera/lyssna (subscribe) p\xe5 detta \xe4mne."),Object(l.b)("p",null,Object(l.b)("img",Object(a.a)({parentName:"p"},{src:"../img/struct-overview.svg",alt:"Principen f\xf6r MQTT"}))),Object(l.b)("p",null,"I centrum f\xf6r detta f\xf6rfarande finns en meddelandeserver (broker). Det \xe4r en central programvara vars enda uppgift lite f\xf6renklat \xe4r att hantera \xe4mnen, meddelanden och prenumerationer.\nMan kan \xe4ven g\xf6ra liknelsen att brokerns uppgift \xe4r att hantera en massa fack (subject) med meddelanden (payload) som enheter kan skriva dit (publish) eller h\xe4mta (subsrcibe)."),Object(l.b)("h3",{id:"ordlista"},"Ordlista"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Svenska"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Engelska"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"F\xf6rklaring"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\xe4mne"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"topic"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}))),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"meddelande"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"payload"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}))),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"enhet"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"device"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}))),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"funktion"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"node"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}))),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"egenskap"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"property"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}))))),Object(l.b)("h2",{id:"uppbyggnad"},"Uppbyggnad"),Object(l.b)("p",null,"Ett \xe4mne i MMRC \xe4r alltid uppbyggt p\xe5 f\xf6ljande s\xe4tt:"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{}),"mmrc/device/node/property\n")),Object(l.b)("h2",{id:"attribut"},"Attribut"),Object(l.b)("p",null,"P\xe5 varje niv\xe5 i strukturen kan man sedan s\xe4tta attribut, vilka kan varierar beroende p\xe5 niv\xe5n. Dessa attribut anv\xe4nds till att ge information om just den niv\xe5 d\xe4r attributet finns, exempelvis:"),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"mmrc/device/$name"),'\nd\xe4r man d\xe5 har m\xf6jlighet att ge enheten ett l\xe4sbart namn, kanske "V\xe4xel 22".'),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"mmrc/device/node/$name"),'\nd\xe4r man ger en av enhetens funktioner ett l\xe4sbart namn, kanske "V\xe4xelstyrning".'),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"mmrc/device/node/property/$name"),'\nd\xe4r man ger funktionens egenskap ett namn, kanske "Riktning".'),Object(l.b)("p",null,"Vilka attribut som finns och m\xe5ste anv\xe4ndas, finns beskrivet i ",Object(l.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/conv-restriction"}),"Konventionen"),"."),Object(l.b)("h2",{id:"base-topic"},"Base topic"),Object(l.b)("p",null,"Den f\xf6rsta niv\xe5n i MMRC-strukturen och som grund f\xf6r alla \xe4mnen i MMRC anv\xe4nds f\xf6ljande:"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{}),"mmrc/\n")),Object(l.b)("p",null,"Denna start p\xe5 \xe4mnet visar att du f\xf6ljer MMRC-konventionen och d\xe5 ska allts\xe5 alla \xe4mnen b\xf6rja med denna text, exempelvis"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{}),"mmrc/pkin-to001/turnout/turn\nmmrc/1270262539-af/pushbutton/push\nmmrc/bwah-0012/signal/image`\n")),Object(l.b)("p",null,"G\xf6r du din egen variant av MMRC eller MQTT \xe4mnesstruktur, s\xe5 m\xe5ste du hitta p\xe5 ett eget Base topic."))}p.isMDXComponent=!0},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return s}));var a=n(0),r=n.n(a);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=r.a.createContext({}),p=function(e){var t=r.a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},d=function(e){var t=p(e.components);return r.a.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,i=e.parentName,o=b(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,s=d["".concat(i,".").concat(m)]||d[m]||u[m]||l;return n?r.a.createElement(s,c(c({ref:t},o),{},{components:n})):r.a.createElement(s,c({ref:t},o))}));function s(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,i=new Array(l);i[0]=m;var c={};for(var b in t)hasOwnProperty.call(t,b)&&(c[b]=t[b]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var o=2;o<l;o++)i[o]=n[o];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);