<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="MRC Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="MRC Blog Atom Feed"><title data-react-helmet="true">Properties | MRC</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Properties | MRC"><meta data-react-helmet="true" name="description" content="* mmrc / device ID / node ID / property ID: this is the base topic of a property."><meta data-react-helmet="true" property="og:description" content="* mmrc / device ID / node ID / property ID: this is the base topic of a property."><meta data-react-helmet="true" property="og:url" content="https://modelrailcontrol.org/docs/conv-properties"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://modelrailcontrol.org/docs/conv-properties"><link rel="stylesheet" href="/styles.8f97edd3.css">
<link rel="preload" href="/styles.21e07410.js" as="script">
<link rel="preload" href="/runtime~main.8f8bd0f9.js" as="script">
<link rel="preload" href="/main.8e102c45.js" as="script">
<link rel="preload" href="/1.f7f5a080.js" as="script">
<link rel="preload" href="/2.3f26408b.js" as="script">
<link rel="preload" href="/56.b9928493.js" as="script">
<link rel="preload" href="/57.bd8eba64.js" as="script">
<link rel="preload" href="/20ac7829.8f1b13fc.js" as="script">
<link rel="preload" href="/17896441.1aa60a8a.js" as="script">
<link rel="preload" href="/338ae771.3c2cf7c6.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/mrc-logo.svg" alt="MRC-logo"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Dokumentation</a><a class="navbar__item navbar__link" href="/docs/clients/intro-01-overview">Enheter</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/modelrailcontrol" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/mrc-logo.svg" alt="MRC-logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Dokumentation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/clients/intro-01-overview">Enheter</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/modelrailcontrol" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp" role="complementary"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Översikt</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Introduktion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro-roadmap">Roadmap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro-software">Mjukvara</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro-hardware">Hårdvara</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro-pcb">Mönsterkort</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro-others">Andra lösningar</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">MMRC ämnesstruktur</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/struct-intro">Introduktion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/struct-device">Device / enhet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/struct-node">Node / funktioner</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/struct-property">Property / egenskaper</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/struct-using">Användning</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">MMRC funktioner</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/function-intro">Introduktion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/function-turnout">Växlar</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/function-signal">Signaler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/function-button">Knappar/omkopplare</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/function-misc">Övrigt</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">MMRC konvention</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conv-restriction">Restrictions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conv-topology">Topology</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conv-devices">Devices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conv-nodes">Nodes</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/conv-properties">Properties</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Övrigt</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/misc-markdown">Markdown Style Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/misc-coding">Kodning</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Properties</h1></header><div class="markdown"><ul><li><p><code>mmrc</code> / <code>device ID</code> / <code>node ID</code> / <strong><code>property ID</code></strong>: this is the base topic of a property.
Each property must have a unique property ID on a per-node basis which adhere to the <a href="#topic-ids">ID format</a>.</p></li><li><p>A property payload (e.g. a sensor reading) is directly published to the property topic, e.g.:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">mmrc</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token keyword" style="font-style:italic">super</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">car</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">engine</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">temperature → </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;21.5&quot;</span></div></div></div></div></div></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="property-attributes"></a>Property Attributes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#property-attributes" title="Direct link to heading">#</a></h3><ul><li><code>mmrc</code> / <code>device ID</code> / <code>node ID</code> / <code>property ID</code> / <strong><code>$property-attribute</code></strong>:</li></ul><p>The following attributes are required:</p><table><thead><tr><th align="left">Topic</th><th align="left">Description</th><th align="left">Payload type</th></tr></thead><tbody><tr><td align="left">$name</td><td align="left">Friendly name of the property.</td><td align="left">String</td></tr><tr><td align="left">$datatype</td><td align="left">The data type. See <a href="#payloads">Payloads</a>.</td><td align="left">Enum: [integer, float, boolean,string, enum, color]</td></tr></tbody></table><p>The following attributes are optional:</p><table><thead><tr><th align="left">Topic</th><th align="left">Description</th><th align="left">Payload type</th></tr></thead><tbody><tr><td align="left">$format</td><td align="left">Specifies restrictions or options for the given data type</td><td align="left">See below</td></tr><tr><td align="left">$settable</td><td align="left">Settable (<code>true</code>). Default is read-only (<code>false</code>)</td><td align="left">Boolean</td></tr><tr><td align="left">$retained</td><td align="left">Non-retained (<code>false</code>). Default is Retained (<code>true</code>).</td><td align="left">Boolean</td></tr></tbody></table><p>For example, our <code>temperature</code> property would send:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">mmrc</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token keyword" style="font-style:italic">super</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">car</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">engine</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">temperature</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">$name → </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Engine temperature&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mmrc</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token keyword" style="font-style:italic">super</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">car</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">engine</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">temperature</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">$settable → </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;false&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mmrc</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token keyword" style="font-style:italic">super</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">car</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">engine</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">temperature</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">$unit → </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;°C&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mmrc</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token keyword" style="font-style:italic">super</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">car</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">engine</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">temperature</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">$datatype → </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;float&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mmrc</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token keyword" style="font-style:italic">super</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">car</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">engine</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">temperature</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">$format → </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;-20:120&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mmrc</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token keyword" style="font-style:italic">super</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">car</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">engine</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">temperature → </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;21.5&quot;</span></div></div></div></div></div><p>Settable and retained:</p><ul><li><p>Properties can be <strong>settable</strong>.
For example, you don&#x27;t want your <code>temperature</code> property to be settable in case of a temperature sensor
(like the car example), but to be settable in case of a thermostat.</p></li><li><p>Properties can be <strong>retained</strong>.
A property is retained by default. A non-retained property would be useful for momentary events (door bell pressed).</p></li></ul><p>A combination of those flags compiles into this list:</p><ul><li><strong>retained + non-settable</strong>: The node publishes a property state (temperature sensor)</li><li><strong>retained + settable</strong>: The node publishes a property state, and can receive commands for the property (by controller or other party) (lamp power)</li><li><strong>non-retained + non-settable</strong>: The node publishes momentary events (door bell pressed)</li><li><strong>non-retained + settable</strong>: The node publishes momentary events, and can receive commands for the property (by controller or other party) (brew coffee)</li></ul><p>Format:</p><ul><li>For <code>integer</code> and <code>float</code>: Describes a range of payloads e.g. <code>10:15</code></li><li>For <code>enum</code>: <code>payload,payload,payload</code> for enumerating all valid payloads.</li><li>For <code>color</code>:<ul><li><code>rgb</code> to provide colors in RGB format e.g. <code>255,255,0</code> for yellow.</li><li><code>hsv</code> to provide colors in HSV format e.g. <code>60,100,100</code> for yellow.</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="property-command-topic"></a>Property command topic<a aria-hidden="true" tabindex="-1" class="hash-link" href="#property-command-topic" title="Direct link to heading">#</a></h3><ul><li><code>mmrc</code> / <code>device ID</code> / <code>node ID</code> / <code>property ID</code> / <strong><code>set</code></strong>: The device must subscribe to this topic if the property is <strong>settable</strong> (in case of actuators for example).</li></ul><p>A MMRC controller publishes to the <code>set</code> command topic with non-retained messages only.</p><p>The assigned and processed payload must be reflected by the MMRC device in the property topic <code>mmrc</code> / <code>device ID</code> / <code>node ID</code> / <code>property ID</code> as soon as possible.
This property state update not only informs other devices about the change but closes the control loop for the commanding controller, important for deterministic interaction with the client device.</p><p>To give an example: A <code>kitchen-light</code> device exposing the <code>light</code> node with a settable <code>power</code> property subscribes to the topic <code>mmrc/kitchen-light/light/power/set</code> for commands:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">mmrc</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">kitchen</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">light</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">light</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">power</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">set ← </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;true&quot;</span></div></div></div></div></div><p>In response the device will turn on the light and upon success update its <code>power</code> property state accordingly:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">mmrc</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">kitchen</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">light</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">light</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">power → </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;true&quot;</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/modelrailcontrol/MRC-documentation/tree/master/docs/conv-properties.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/conv-nodes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Nodes</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/misc-markdown"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Markdown Style Guide »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#property-attributes" class="table-of-contents__link">Property Attributes</a></li><li><a href="#property-command-topic" class="table-of-contents__link">Property command topic</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Dokumentation</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Översikt</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/struct-intro/">Struktur</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Gemenskap</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.svensktmjforum.se/forum/index.php?topic=21831.0" target="_blank" rel="noopener noreferrer" class="footer__link-item">Svenskt MJ-forum</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Övrigt</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/modelrailcontrol" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://v2.docusaurus.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus</a></li></ul></div></div><div class="text--center"><div>CC-BY-SA © 2020 Model Rail Control</div></div></div></footer></div>
<script src="/styles.21e07410.js"></script>
<script src="/runtime~main.8f8bd0f9.js"></script>
<script src="/main.8e102c45.js"></script>
<script src="/1.f7f5a080.js"></script>
<script src="/2.3f26408b.js"></script>
<script src="/56.b9928493.js"></script>
<script src="/57.bd8eba64.js"></script>
<script src="/20ac7829.8f1b13fc.js"></script>
<script src="/17896441.1aa60a8a.js"></script>
<script src="/338ae771.3c2cf7c6.js"></script>
</body>
</html>