(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{102:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return a})),t.d(n,"metadata",(function(){return o})),t.d(n,"rightToc",(function(){return b})),t.d(n,"default",(function(){return l}));var r=t(2),i=t(6),c=(t(0),t(158)),a={title:"Block"},o={id:"function-05-block",isDocsHomePage:!1,title:"Block",description:"N\xe4r det g\xe4ller blockdetektering finns det inga kommandon. Ett block \xe4r ju endast en avk\xe4nning, men det kan vara flera olika typer av avk\xe4nning.",source:"@site/docs/function-05-block.md",permalink:"/docs/function-05-block",editUrl:"https://github.com/modelrailcontrol/MRC-documentation/tree/master/docs/function-05-block.md",sidebar:"someSidebar",previous:{title:"Knappar/omkopplare",permalink:"/docs/function-04-button"},next:{title:"Restrictions",permalink:"/docs/conv-restriction"}},b=[{value:"Enkel blockavk\xe4nning",id:"enkel-blockavk\xe4nning",children:[]},{value:"Blockavk\xe4nning med riktning",id:"blockavk\xe4nning-med-riktning",children:[]},{value:"Blockavk\xe4nning med riktning &amp; hastighet",id:"blockavk\xe4nning-med-riktning--hastighet",children:[]}],d={rightToc:b};function l(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(c.b)("wrapper",Object(r.a)({},d,t,{components:n,mdxType:"MDXLayout"}),Object(c.b)("p",null,"N\xe4r det g\xe4ller blockdetektering finns det inga kommandon. Ett block \xe4r ju endast en avk\xe4nning, men det kan vara flera olika typer av avk\xe4nning."),Object(c.b)("h2",{id:"enkel-blockavk\xe4nning"},"Enkel blockavk\xe4nning"),Object(c.b)("p",null,"Den enklaste typen av blockavk\xe4nning \xe4r den som enbart k\xe4nner av om det finns n\xe5got p\xe5 sp\xe5ret eller inte:"),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{}),'mrc/[id]/[node]/$type \u2192 "blockdetect"\n')),Object(c.b)("p",null,"De \xe4mnen som d\xe5 ",Object(c.b)("em",{parentName:"p"},"m\xe5ste")," finnas f\xf6r respektive block \xe4r dessa:"),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{}),"mrc/[id]/[node]/detection\nmrc/[id]/[node]/detection/set\n")),Object(c.b)("p",null,"Meddelanden som anv\xe4nds f\xf6r ",Object(c.b)("inlineCode",{parentName:"p"},"detection")," \xe4r:"),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{}),'mrc/[id]/[node]/detection \u2192 "free"\nmrc/[id]/[node]/detection \u2192 "occupied"\n')),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"free")," n\xe4r inget t\xe5g finns i blocket"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"occupied")," n\xe4r ett t\xe5g finns i blocket"),Object(c.b)("h2",{id:"blockavk\xe4nning-med-riktning"},"Blockavk\xe4nning med riktning"),Object(c.b)("p",null,"En lite mer avancerad typ av blockavk\xe4nning \xe4r den som b\xe5de kan k\xe4nna av om det finns n\xe5got p\xe5 sp\xe5ret eller inte samt meddela vilken riktning t\xe5get har."),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{}),'mrc/[id]/[node]/$type \u2192 "blockdirection"\n')),Object(c.b)("p",null,"De \xe4mnen som d\xe5 ",Object(c.b)("em",{parentName:"p"},"m\xe5ste")," finnas f\xf6r respektive block \xe4r dessa:"),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{}),"mrc/[id]/[node]/detection\nmrc/[id]/[node]/detection/set\nmrc/[id]/[node]/direction\nmrc/[id]/[node]/direction/set\n")),Object(c.b)("p",null,"Det betyder att detta block b\xe5de kan k\xe4nna av att det \xe4r upptaget och i vilken riktning t\xe5get \xe5ker. Meddelanden som anv\xe4nds f\xf6r ",Object(c.b)("inlineCode",{parentName:"p"},"detection")," \xe4r:"),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{}),'mrc/[id]/[node]/detection \u2192 "free"\nmrc/[id]/[node]/detection \u2192 "occupied"\n')),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"free")," n\xe4r inget t\xe5g finns i blocket"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"occupied")," n\xe4r ett t\xe5g finns i blocket"),Object(c.b)("p",null,"och f\xf6r ",Object(c.b)("inlineCode",{parentName:"p"},"direction")," (en funktion som kanske inte alltid finns):"),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{}),'mrc/[id]/[node]/direction \u2192 "up"\nmrc/[id]/[node]/direction \u2192 "down"\nmrc/[id]/[node]/direction \u2192 "unknown"\n')),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"up")," ena riktningen (g\xe5r inte att s\xe4ga vilken)"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"down")," andra riktningen (g\xe5r inte att s\xe4ga vilken)"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"unknown")," f\xf6r att indikera att riktning inte kan k\xe4nnas av."),Object(c.b)("h2",{id:"blockavk\xe4nning-med-riktning--hastighet"},"Blockavk\xe4nning med riktning & hastighet"),Object(c.b)("p",null,"En blockavk\xe4nning som b\xe5de kan k\xe4nna av om det finns n\xe5got p\xe5 sp\xe5ret eller inte samt meddela vilken riktning t\xe5get har, skulle \xe4ven kunna ber\xe4kna hastigheten p\xe5 t\xe5get. Ett s\xe5dant block har d\xe5 typen:"),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{}),'mrc/[id]/[node]/$type \u2192 "blockspeed"\n')),Object(c.b)("p",null,"De \xe4mnen som d\xe5 ",Object(c.b)("em",{parentName:"p"},"m\xe5ste")," finnas f\xf6r respektive block \xe4r dessa:"),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{}),"mrc/[id]/[node]/detection\nmrc/[id]/[node]/detection/set\nmrc/[id]/[node]/direction\nmrc/[id]/[node]/direction/set\nmrc/[id]/[node]/speed\nmrc/[id]/[node]/speed/set\n")),Object(c.b)("p",null,"Det betyder att detta block b\xe5de kan k\xe4nna av att det \xe4r upptaget och i vilken riktning t\xe5get \xe5ker. Meddelanden som anv\xe4nds f\xf6r ",Object(c.b)("inlineCode",{parentName:"p"},"detection")," \xe4r:"),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{}),'mrc/[id]/[node]/detection \u2192 "free"\nmrc/[id]/[node]/detection \u2192 "occupied"\n')),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"free")," n\xe4r inget t\xe5g finns i blocket"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"occupied")," n\xe4r ett t\xe5g finns i blocket"),Object(c.b)("p",null,"och f\xf6r ",Object(c.b)("inlineCode",{parentName:"p"},"direction")," (en funktion som kanske inte alltid finns):"),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{}),'mrc/[id]/[node]/direction \u2192 "up"\nmrc/[id]/[node]/direction \u2192 "down"\nmrc/[id]/[node]/direction \u2192 "unknown"\n')),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"up")," ena riktningen (g\xe5r inte att s\xe4ga vilken)"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"down")," andra riktningen (g\xe5r inte att s\xe4ga vilken)"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"unknown")," f\xf6r att indikera att riktning inte kan k\xe4nnas av."),Object(c.b)("p",null,"och f\xf6r ",Object(c.b)("inlineCode",{parentName:"p"},"speed")," anges hastigheten i meter per sekund (m/s) som ett flyttal:"),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{}),"mrc/[id]/[node]/speed \u2192 2,4\n")))}l.isMDXComponent=!0},158:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return k}));var r=t(0),i=t.n(r);function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function b(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var d=i.a.createContext({}),l=function(e){var n=i.a.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=l(e.components);return i.a.createElement(d.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},s=i.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,c=e.originalType,a=e.parentName,d=b(e,["components","mdxType","originalType","parentName"]),p=l(t),s=r,k=p["".concat(a,".").concat(s)]||p[s]||m[s]||c;return t?i.a.createElement(k,o(o({ref:n},d),{},{components:t})):i.a.createElement(k,o({ref:n},d))}));function k(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var c=t.length,a=new Array(c);a[0]=s;var o={};for(var b in n)hasOwnProperty.call(n,b)&&(o[b]=n[b]);o.originalType=e,o.mdxType="string"==typeof e?e:r,a[1]=o;for(var d=2;d<c;d++)a[d]=t[d];return i.a.createElement.apply(null,a)}return i.a.createElement.apply(null,t)}s.displayName="MDXCreateElement"}}]);